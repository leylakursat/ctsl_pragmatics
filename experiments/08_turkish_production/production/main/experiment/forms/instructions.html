<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../favicon.ico">

  <title>Deney</title>

  <!-- Bootstrap core CSS -->
  <link href="../../lib/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

  <!-- Custom styles for this template -->
  <link href="theme.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body role="document">

  <div class="container theme-showcase" role="main">

    </br>
    <div class="progress">
      <div class="progress-bar" role="progressbar" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100"
        style="width: 5%;"><span class="sr-only">%5 Tamamlandı</span></div>
    </div>

    <div class="page-header">
      <h1>Oyunun Kuralları</h1>
    </div>

    <div class="well" style="width:800px; margin: 0 auto">

      <h2>
        <center>Tahmin Oyunu</center>
      </h2>

      <p>
        Bu deneyde, başka bir oyuncuyla birlikte bir tahmin oyuncu oynayacaksınız. Her turda, iki oyuncu da aşağıdaki gibi resimler görür.
      </p>
      <center><img src="images/objectBoard.png" alt="Example gameplay" style="width:700px"></center>
      <br>
      <p>
        İki oyuncu da aynı 4 resmi görür <b> ama resimlerin sıralanışı farklıdır. </b>
      </p>
      <p>
        Bir oyuncu <b>Anlatan</b>, diğeri de <b>Tahmin eden</b> rolünde oynar. Her turda,
        anlatılması gereken resim <b> yeşil bir çerçevenin </b> içinde Anlatana gösterilir. Anlatanın görevi, tahmin edene bu resmin hangisi olduğunu anlatmak, tahmin edenin görevi de doğru resmi seçmektir. Resimlerin sıralanışı her oyuncunun ekranında farklı olduğu için resmin yerini söylemek işe yaramaz.
      </p>
      <p>
        <center><img src="images/speakerListenerBoard.png" alt="Example gameplay" style="width:760px"></center>
      </p>
      <p>
        <i>
          <center> <small> Hangi resmin anlatılması gerektiğini sadece anlatan görebilir.</small> </center>
        </i>
      </p>
      <p>
        Oyuncular birbirleriyle konuşmak için bir mesaj kutusu kullanır. Anlatan, buradan mesaj göndererek hangi resmin seçilmesi gerektiğini söyleyebilir, tahmin eden de buradan soru sorabilir.
      </p>
      <p>
        <i>
          <center><img src="images/chatBox.png" alt="Example gameplay" style="width:700px"></center>
        </i>
      </p>
      <p>
        Anlatan mesaj gönderdikten ve tahmin eden doğru olduğunu düşündüğü resme tıkladıktan sonra iki oyuncu da verilen
        cevabın doğru olup olmadığıyla ilgili geri bildirim alır: anlatanın ekranında tahmin edenin seçtiği resmin etrafında
        mavi bir çerçeve belirir. Tahmin eden de doğru bildiyse seçtiği resmin etrafında yeşil bir çerçeve, yanlış bildiyse
        de de kırmızı bir çerçeve görür. İki oyuncu de bir sonraki tura otomatik olarak geçer. Toplam 60 tur vardır.
        Son turdan sonra 15 saniyelik bir anket doldurmanız istenir.

        <p> Son iki not: Başka bir oyuncuyla oynadığınız için oyun başlamadan önce bu ekranı görebilirsiniz:
          <p>
            <center><img src="images/waitScreen.png" alt="initial matcher's board" style="width:700px;height:150px">
            </center>
          </p>

          Biraz bekleyin. Birkaç dakika içinde başka bir oyuncu deneye katılacaktır.
        </p>

        <p>
          Son olarak, lütfen oyun başladıktan sonra sayfayı yenilemeyin (bekleme sayfasındayken de). Yenilerseniz oyuna
          tekrar katılamayabilirsiniz ve bu HITi tamamlamamış sayılırsınız. <br> Teşekkürler!
        </p>

        <h4>
          Lütfen başlamadan önce aşağıdaki küçük testi cevaplayın.
          İyi şanslar ve iyi eğlenceler!
        </h4>

    </div>
    <div class="page-header">
      <h3>Test</h3>
    </div>

    <div class="well" style="width:800px; margin: 0 auto">

      </br>
      Anlatan rolündeki oyuncu resim seçebilir.
      </br>
      <input type="radio" name="dgoal" value="yes"> Yanlış
      </br>
      <input type="radio" name="dgoal" value="no"> Doğru
      </br>

      </br>
      Tahmin edenin amacı anlatanın anlattığı resmi seçmektir.
      </br>
      <input type="radio" name="mgoal" value="no"> Yanlış
      </br>
      <input type="radio" name="mgoal" value="yes"> Doğru
      </br>

      </br>
      Anlatılması istenen resmin etrafında kırmızı bir çerçeve vardır.
      </br>
      <input type="radio" name="round" value="yes"> Yanlış
      </br>
      <input type="radio" name="round" value="no"> Doğru
      </br>

      </br>
      Sadece anlatan mesaj gönderebilir.
      </br>
      <input type="radio" name="message" value="yes"> Yanlış
      </br>
      <input type="radio" name="message" value="no"> Doğru
      </br>

      </br>
      Oyunda toplam 60 tur vardır.
      </br>
      <input type="radio" name="comp" value="no"> Yanlış
      </br>
      <input type="radio" name="comp" value="yes"> Doğru
      </br>

      </br>
      Resimlerin sıralanışı anlatan ve tahmin edenin ekranında aynıdır.
      </br>
      <input type="radio" name="location" value="no"> Doğru
      </br>
      <input type="radio" name="location" value="yes"> Yanlış
      </br>

      </br>
      Daha önce bu deneyde yer aldınız mı?
      </br>
      <input type="radio" name="completed" value="no"> Evet
      </br>
      <input type="radio" name="completed" value="yes"> Hayır
      </br>

      </br>
      <input id="quiz_submit" type="submit" value="Gönder">
      </br>
      </br>
      <div class="error" style="display:none"> Bir ya da birden fazla soruya yanlış cevap verdiniz. Bir hakkınız
        daha var. </div>
    </div> <!-- /container -->
  </div>
  <script type="text/javascript">
    $('html,body').scrollTop(0);
    var urlParams;
    var match,
      pl = /\+/g,  // Regex for replacing addition symbol with a space
      search = /([^&=]+)=?([^&]*)/g,
      decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
      query = location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
      urlParams[decode(match[1])] = decode(match[2]);

    console.log(urlParams)

    var counter = 0;
    document.getElementById("quiz_submit").onclick = function () {
      var ans1 = $('input[name="dgoal"]:checked').val();
      var ans2 = $('input[name="mgoal"]:checked').val();
      var ans3 = $('input[name="round"]:checked').val();
      var ans4 = $('input[name="message"]:checked').val();
      var ans5 = $('input[name="comp"]:checked').val();
      var ans6 = $('input[name="location"]:checked').val();
      var ans7 = $('input[name="completed"]:checked').val();

      if (ans1 == "yes" && ans2 == "yes" && ans3 == "yes" &&
        ans4 == "yes" && ans5 == "yes" && ans6 == "yes" && ans7 == "yes") {
        var workerId = urlParams.workerId;
        var assignmentId = urlParams.assignmentId;
        var hitId = urlParams.hitId;
        var turkSubmitTo = urlParams.turkSubmitTo;
        // location.replace("./pass.html")
        //revert mack to mturk
        location.replace("./pass.html?workerId=" + workerId
          + "&assignmentId=" + assignmentId
          + "&hitId=" + hitId + "&turkSubmitTo=" + turkSubmitTo);
      } else if (counter == 3) {
        location.replace("./fail.html");
      } else {
        $('.error').show()
        counter += 1;
      }
    };
  </script>

  <script src="./validate-form.js"></script>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../lib/js/bootstrap.min.js"></script>
</body>

</html>